{% unless section.settings.disable_announcement_bar %}
<div class="announcement-bar-wrapper marquee color-{{ section.settings.color_scheme }} gradient  {% if section.settings.disable_announcement_bar_mobile %} hide-mobile {% endif %}">
<div class="marquee__content">
 <div class="marquee_annoucement list-inline">
{%- for block in section.blocks -%}
  {%- case block.type -%}
    {%- when 'announcement' -%}
    
      <div class="announcement-bar " role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ block.shopify_attributes }}>
        
       {%- if block.settings.text != blank -%}
          {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" class="announcement-bar__link link link--text focus-inset animate-arrow">
          {%- endif -%}
              <p class="announcement-bar__message h5">
                {{ block.settings.text | escape }}
              </p>
          {%- if block.settings.link != blank -%}
            </a>
          {%- endif -%}
        {%- endif -%}
      </div>
  {%- endcase -%}
{%- endfor -%}
 </div>
   <div class="marquee_annoucement list-inline">
{%- for block in section.blocks -%}
  {%- case block.type -%}
    {%- when 'announcement' -%}
    
      <div class="announcement-bar  " role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ block.shopify_attributes }}>
        
       {%- if block.settings.text != blank -%}
          {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" class="announcement-bar__link link link--text focus-inset animate-arrow">
          {%- endif -%}
              <p class="announcement-bar__message h5">
                {{ block.settings.text | escape }}
              </p>
          {%- if block.settings.link != blank -%}
            </a>
          {%- endif -%}
        {%- endif -%}
      </div>
  {%- endcase -%}
{%- endfor -%}
 </div>
</div>
</div>
   {% endunless %}
{%- style -%}

   @media screen and (max-width: 990px) {
  {% if section.settings.disable_announcement_bar_mobile %}
    .announcement-bar-wrapper.hide-mobile{display:none;}
  {% endif %} }

  .marquee:before {
  left: 0;
  background: linear-gradient(to right, rgb(var(--color-background)) 5%, transparent 100%);
}
.marquee:after {
  right: 0;
  background: linear-gradient(to left, rgb(var(--color-background)) 5%, transparent 100%);
}
.marquee:before, .marquee:after {
   position: absolute;
  top: 0;
  width: 100px;
  height: 35px;
  content: "";
  z-index: 1;
}

.announcement-bar-wrapper {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
      padding: 8px 0;
    border-bottom: 0.1rem solid rgba(var(--color-foreground), 0.08);
} 
.marquee__content {
    display: flex;
    align-items: center;
    white-space: nowrap;
    overflow: hidden;
}  
.marquee_annoucement  {animation: scroll-left 20s linear infinite;display: flex;
    align-items: center;
    justify-content: space-around;
    flex-shrink: 0;
    min-width: 100%;}
.marquee__content:hover .marquee_annoucement {animation-play-state: paused;}
.announcement-bar {padding:0 5vw;}
.announcement-bar .announcement-bar__message{margin:0;padding:0} 
@keyframes scroll-left{0%{transform:translateX(0%);}100%{transform:translateX(-100%);}}

body.overflow-hidden #shopify-section-announcement-bar, body.overflow-hidden-mobile #shopify-section-announcement-bar{ z-index: 0;}
  body.overflow-hidden-tablet #shopify-section-announcement-bar { z-index: 0;  display: none;}  
{%- endstyle -%}



{% schema %}
{
  "name": "t:sections.announcement-bar.name",
  "max_blocks": 12,
  "settings":[
      {
          "type": "select",
          "id": "color_scheme",
          "options": [
            {
              "value": "accent-1",
              "label": "t:sections.all.colors.accent_1.label"
            },
            {
              "value": "accent-2",
              "label": "t:sections.all.colors.accent_2.label"
            },
            {
              "value": "background-1",
              "label": "t:sections.all.colors.background_1.label"
            },
            {
              "value": "background-2",
              "label": "t:sections.all.colors.background_2.label"
            },
            {
              "value": "inverse",
              "label": "t:sections.all.colors.inverse.label"
            }
          ],
          "default": "accent-1",
          "label": "t:sections.all.colors.label"
        },
      {
  "type": "checkbox",
  "id": "disable_announcement_bar",
  "label": "t:sections.announcement-bar.settings.disable_announcement_bar.label",
  "default": false
  },
      {
  "type": "checkbox",
  "id": "disable_announcement_bar_mobile",
  "label": "t:sections.announcement-bar.settings.disable_announcement_bar_mobile.label",
  "default": false
  }
  ],
   "blocks": [
    {
      "type": "announcement",
      "name": "t:sections.announcement-bar.blocks.announcement.name",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "default": "Welcome to our store",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.text.label"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "announcement"
      }
    ]
  }
}
{% endschema %}
